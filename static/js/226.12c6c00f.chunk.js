"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[226],{226:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(439),o=n(87),c=n(689),i=n(184),u=function(e){var t=e.movies,n=(0,c.TH)();return(0,i.jsx)("ul",{children:t.map((function(e){return(0,i.jsx)("li",{children:(0,i.jsx)(o.Link,{to:"/movies/".concat(e.id),state:{from:n},children:e.original_title})},e.id)}))})},a=function(e){var t=e.handleMovieSubmit;return(0,i.jsxs)("form",{onSubmit:t,children:[(0,i.jsx)("input",{type:"text",name:"query"}),(0,i.jsx)("button",{type:"submit",children:"Search"})]})},s=n(791),f=n(961),h=function(){var e,t=(0,s.useState)([]),n=(0,r.Z)(t,2),c=n[0],h=n[1],m=(0,o.useSearchParams)(),v=(0,r.Z)(m,2),l=v[0],d=v[1],g=null!==(e=l.get("query"))&&void 0!==e?e:"";(0,s.useEffect)((function(){""!==g&&(0,f.getSearchMovie)(g).then((function(e){return e&&h(e.results)})).catch((function(e){return console.error(e.status_message)}))}),[g]);return(0,i.jsxs)("section",{children:[(0,i.jsx)(a,{handleMovieSubmit:function(e){e.preventDefault();var t=e.currentTarget.query.value;if(""===t.trim())return d({});d({query:t})}}),g&&(0,i.jsx)(u,{movies:c})]})}},961:function(e,t,n){n.r(t),n.d(t,{getCastsMovie:function(){return u},getDetailsMovie:function(){return i},getReviewsMovie:function(){return a},getSearchMovie:function(){return s},getTrendingMovies:function(){return c}});var r="https://api.themoviedb.org/3/",o="9aeb3f25134c39d746b22e1322fdcd2c",c=function(e){return fetch("".concat(r,"trending/movie/day?api_key=").concat(o)).then((function(e){if(!e.ok)throw new Error(e.status_message);return e.json()}))},i=function(e){return fetch("".concat(r,"movie/").concat(e,"?api_key=").concat(o)).then((function(e){if(!e.ok)throw new Error(e.status_message);return e.json()}))},u=function(e){return fetch("".concat(r,"movie/").concat(e,"/credits?api_key=").concat(o)).then((function(e){if(!e.ok)throw new Error(e.status_message);return e.json()}))},a=function(e){return fetch("".concat(r,"movie/").concat(e,"/reviews?api_key=").concat(o)).then((function(e){if(!e.ok)throw new Error(e.status_message);return e.json()}))},s=function(e){return fetch("".concat(r,"search/movie?api_key=").concat(o,"&query=").concat(e)).then((function(e){if(!e.ok)throw new Error(e.status_message);return e.json()}))}}}]);
//# sourceMappingURL=226.12c6c00f.chunk.js.map